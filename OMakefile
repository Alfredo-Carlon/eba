USE_OCAMLFIND = true
BYTE_ENABLED = true
NATIVE_ENABLED = false

FILES[] =
    error
    pP
    uniq
    type
    env
    infer

OCAMLPACKS[] += batteries cil smart_print
OCAMLFLAGS += -thread

OCamlLibrary(libeba, $(FILES))

OCAML_LIBS = libeba
OCamlProgram(eba, eba)

.DEFAULT: eba

# Cleanup
.PHONY: clean
clean:
  rm -f \
     $(filter-proper-targets $(glob $(addsuffix .*, $(FILES)))) \
     eba.cma eba.cmxa eba.a
